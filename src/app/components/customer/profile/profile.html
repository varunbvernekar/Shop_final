<!-- src/app/components/customer/profile/profile.html -->

<div class="profile-page">
  <header class="profile-header">
    <h1>My Profile</h1>
    <p>Manage your personal information and preferences</p>
  </header>

  <div *ngIf="isLoading" class="loading">
    Loading profile...
  </div>

  <div *ngIf="!isLoading && errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div *ngIf="!isLoading && !errorMessage && user" class="profile-content">
    <!-- Personal Information -->
    <div class="profile-card">
      <h2 class="card-title">Personal Information</h2>
      
      <form (ngSubmit)="onSubmit()" class="profile-form">
        <div class="form-row">
          <div class="form-group">
            <label for="name">Full Name</label>
            <input
              id="name"
              type="text"
              [(ngModel)]="user.name"
              name="name"
              required
              placeholder="Your full name"
            />
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <input
              id="email"
              type="email"
              [(ngModel)]="user.email"
              name="email"
              required
              placeholder="you@example.com"
              readonly
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="phoneNumber">Phone Number</label>
            <input
              id="phoneNumber"
              type="tel"
              [(ngModel)]="user.phoneNumber"
              name="phoneNumber"
              placeholder="+1 234 567 8900"
            />
          </div>

          <div class="form-group">
            <label for="dateOfBirth">Date of Birth</label>
            <input
              id="dateOfBirth"
              type="date"
              [(ngModel)]="user.dateOfBirth"
              name="dateOfBirth"
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="gender">Gender</label>
            <select id="gender" [(ngModel)]="user.gender" name="gender">
              <option value="">Select</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
              <option value="Prefer not to say">Prefer not to say</option>
            </select>
          </div>

          <div class="form-group">
            <label for="preferredLanguage">Preferred Language</label>
            <select id="preferredLanguage" [(ngModel)]="user.preferredLanguage" name="preferredLanguage">
              <option value="">Select</option>
              <option value="English">English</option>
              <option value="Spanish">Spanish</option>
              <option value="French">French</option>
              <option value="German">German</option>
              <option value="Chinese">Chinese</option>
            </select>
          </div>
        </div>

        <!-- Address Section -->
        <div class="address-section">
          <h3 class="section-title">Address</h3>
          
          <div class="form-group">
            <label for="street">Street Address</label>
            <input
              id="street"
              type="text"
              [(ngModel)]="user.address!.street"
              name="street"
              placeholder="123 Main Street"
            />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="city">City</label>
              <input
                id="city"
                type="text"
                [(ngModel)]="user.address!.city"
                name="city"
                placeholder="New York"
              />
            </div>

            <div class="form-group">
              <label for="state">State/Province</label>
              <input
                id="state"
                type="text"
                [(ngModel)]="user.address!.state"
                name="state"
                placeholder="NY"
              />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="zipCode">Zip/Postal Code</label>
              <input
                id="zipCode"
                type="text"
                [(ngModel)]="user.address!.zipCode"
                name="zipCode"
                placeholder="10001"
              />
            </div>

            <div class="form-group">
              <label for="country">Country</label>
              <input
                id="country"
                type="text"
                [(ngModel)]="user.address!.country"
                name="country"
                placeholder="United States"
              />
            </div>
          </div>
        </div>

        <div *ngIf="successMessage" class="success-message">
          {{ successMessage }}
        </div>

        <div *ngIf="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary" [disabled]="isSaving">
            {{ isSaving ? 'Saving...' : 'Save Changes' }}
          </button>
          <button type="button" class="btn-secondary" (click)="resetForm()">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

