<!-- src/app/components/admin/admin-dashboard/admin-dashboard.html -->

<div class="dashboard-container">
  <h1 class="dashboard-title">Admin Dashboard</h1>
  <p class="dashboard-subtitle">
    Manage inventory, monitor orders, and track business metrics
  </p>

  <!-- Top metric cards -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon stat-icon-orders">üõí</div>
      <div class="stat-label">Total Orders</div>
      <div class="stat-value">{{ totalOrders }}</div>
    </div>

    <div class="stat-card">
      <div class="stat-icon stat-icon-revenue">$</div>
      <div class="stat-label">Total Revenue</div>
      <div class="stat-value">${{ totalRevenue }}</div>
    </div>

    <div class="stat-card">
      <div class="stat-icon stat-icon-avg">üìà</div>
      <div class="stat-label">Avg Order Value</div>
      <div class="stat-value">${{ avgOrderValue }}</div>
    </div>

    <div class="stat-card">
      <div class="stat-icon stat-icon-products">üë•</div>
      <div class="stat-label">Active Products</div>
      <div class="stat-value">{{ activeProductsCount }}</div>
    </div>
  </div>

  <!-- Low stock alerts -->
  <div class="low-stock-card" *ngIf="lowStockProducts.length">
    <div class="low-stock-header">
      <div class="low-stock-title">
        <span class="warning-icon">‚ö†Ô∏è</span>
        Low Stock Alerts
      </div>
      <div class="low-stock-subtitle">
        {{ lowStockProducts.length }} product(s) need immediate attention
      </div>
    </div>

    <div class="low-stock-list">
      <div class="low-stock-item" *ngFor="let p of lowStockProducts">
        <div class="low-stock-info">
          <div class="low-stock-name">{{ p.name }}</div>
          <div class="low-stock-meta">
            Stock:
            <span class="stock-value">{{ p.stockLevel }} units</span>
            &nbsp; (Threshold:
            <span class="threshold-value">{{ p.reorderThreshold }}</span>)
          </div>
        </div>
        <button class="reorder-btn">Reorder Now</button>
      </div>
    </div>
  </div>

  <div class="dashboard-main-grid">
    <!-- Inventory table -->
    <div class="inventory-card">
      <h2 class="section-title">Inventory Status</h2>

      <div class="table-wrapper">
        <table class="inventory-table">
          <thead>
            <tr>
              <th>Product</th>
              <th>Stock Level</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let p of products">
              <td>
                <div class="product-cell">
                  <div class="product-name">{{ p.name }}</div>
                  <div class="product-id">{{ p.productId }}</div>
                </div>
              </td>
              <td>
                <span class="stock-icon">üì¶</span>
                {{ p.stockLevel || 0 }} units
              </td>
              <td>
                <span [class]="getStatusClass(p)">
                  {{ getStatusLabel(p) }}
                </span>
              </td>
              <td>
                <button class="manage-link">Manage</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    
    
  </div>
</div>
